/*
** Copyright 2007-2018 RTE
** Authors: Antares_Simulator Team
**
** This file is part of Antares_Simulator.
**
** Antares_Simulator is free software: you can redistribute it and/or modify
** it under the terms of the GNU General Public License as published by
** the Free Software Foundation, either version 3 of the License, or
** (at your option) any later version.
**
** There are special exceptions to the terms and conditions of the
** license as they are applied to this software. View the full text of
** the exceptions in file COPYING.txt in the directory of this software
** distribution
**
** Antares_Simulator is distributed in the hope that it will be useful,
** but WITHOUT ANY WARRANTY; without even the implied warranty of
** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
** GNU General Public License for more details.
**
** You should have received a copy of the GNU General Public License
** along with Antares_Simulator. If not, see <http://www.gnu.org/licenses/>.
**
** SPDX-License-Identifier: licenceRef-GPL3_WITH_RTE-Exceptions
*/
#ifndef __SOLVER_VARIABLE_ADEQUACY_ALL_H__
#define __SOLVER_VARIABLE_ADEQUACY_ALL_H__

#include "../variable.h"
#include "../area.h"
#include "../setofareas.h"

#include "../economy/co2.h"
#include "../economy/price.h"
#include "../economy/balance.h"

#include "../commons/load.h"
#include "../commons/wind.h"
#include "../commons/hydro.h"
#include "../commons/rowBalance.h"
#include "../commons/psp.h"
#include "../commons/miscGenMinusRowPSP.h"
#include "../commons/solar.h"
#include "../commons/join.h"
#include "../commons/spatial-aggregate.h"

#include "../economy/dispatchableGeneration.h"
#include "../economy/renewableGeneration.h"
#include "../adequacy/overallCost.h"
#include "../economy/operatingCost.h"
#include "../economy/hydrostorage.h"
#include "../economy/pumping.h"
#include "../economy/reservoirlevel.h"
#include "../economy/inflow.h"
#include "../economy/overflow.h"
#include "../economy/waterValue.h"
#include "../economy/hydroCost.h"
#include "../economy/unsupliedEnergy.h"
#include "../economy/domesticUnsupliedEnergy.h"
#include "../adequacy/spilledEnergy.h"
#include "../economy/productionByDispatchablePlant.h"
#include "../economy/productionByRenewablePlant.h"
#include "../economy/lold.h"
#include "../economy/lolp.h"
#include "../economy/max-mrg.h"

#include "../economy/avail-dispatchable-generation.h"
#include "../economy/dispatchable-generation-margin.h"

#include "../economy/links/flowLinear.h"
#include "../economy/links/flowLinearAbs.h"
#include "../economy/links/flowQuad.h"
#include "../economy/links/hurdleCosts.h"
#include "../economy/links/congestionFee.h"
#include "../economy/links/congestionFeeAbs.h"
#include "../economy/links/marginalCost.h"
#include "../economy/links/congestionProbability.h"

namespace Antares
{
namespace Solver
{
namespace Variable
{
namespace Adequacy
{
/*!
** \brief All variables for a single link (economy)
*/
typedef Variable::Economy::FlowLinear            // Flow linear
  <Variable::Economy::FlowLinearAbs              // Flow linear Abs
   <Variable::Economy::FlowQuad                  // Flow Quad
    <Variable::Economy::CongestionFee            // Congestion Fee
     <Variable::Economy::CongestionFeeAbs        // Congestion Fee (Abs)
      <Variable::Economy::MarginalCost           // Marginal Cost
       <Variable::Economy::CongestionProbability // Congestion Probability (+/-)
        <Variable::Economy::HurdleCosts          // Hurdle costs
         <>>>>>>>>
    VariablePerLink;
// forward declaration
class Links;

/*!
** \brief All variables for a single area (economy)
*/
typedef                             // Prices
  Variable::Adequacy::OverallCost   // Overall Cost (Op. Cost + Unsupplied Eng.)
  <Variable::Economy::OperatingCost // Operating Cost
   <Variable::Economy::Price        // Marginal price
                                    // CO2
    <Variable::Economy::CO2 // Overall CO2 emissions (from all thermal dispatchable clusters)
                            // Production by thermal cluster
     <Variable::Economy::ProductionByDispatchablePlant  // Energy generated by thermal dispatchable
                                                        // clusters
      <Variable::Economy::ProductionByRenewablePlant    // Energy generated by renewable clusters
                                                        // (must-run)
       <Variable::Economy::Balance                      // Nodal Energy Balance
                                                        // Misc Gen.
        <Variable::Economy::RowBalance                  // Misc Gen. Row balance
         <Variable::Economy::PSP                        // PSP
          <Variable::Economy::MiscGenMinusRowPSP        // Misc Gen. - Row Balance - PSP
                                                        // Time series
           <Variable::Economy::TimeSeriesValuesLoad     // Load
            <Variable::Economy::TimeSeriesValuesHydro   // Hydro
             <Variable::Economy::TimeSeriesValuesWind   // Wind
              <Variable::Economy::TimeSeriesValuesSolar // Solar
                                                        // Other
               <Variable::Economy::DispatchableGeneration // All dispatchable generation
                <Variable::Economy::RenewableGeneration<
                  Variable::Economy::HydroStorage           // Hydro Storage Generation
                  <Variable::Economy::Pumping               // Pumping generation
                   <Variable::Economy::ReservoirLevel       // Reservoir levels
                    <Variable::Economy::Inflows             // Hydraulic inflows
                     <Variable::Economy::Overflows          // Hydraulic overflows
                      <Variable::Economy::WaterValue        // Water values
                       <Variable::Economy::HydroCost        // Hydro costs
                        <Variable::Economy::UnsupliedEnergy // Unsuplied Energy
                        <Variable::Economy::DomesticUnsupliedEnergy // Domestic Unsuplied Energy
                         <Variable::Adequacy::SpilledEnergy // Spilled Energy
                          <Variable::Economy::LOLD          // LOLD
                           <Variable::Economy::LOLP         // LOLP
                            <Variable::Economy::AvailableDispatchGen<
                              Variable::Economy::DispatchableGenMargin<
                                Variable::Economy::Marge // OP. MRG
                                // Links
                                <Variable::Adequacy::Links // All links
                                 >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    VariablesPerArea;

/*!
** \brief All variables for a single set of areas (economy)
*/
typedef // Prices
  Common::SpatialAggregate<
    Variable::Adequacy::OverallCost,
    Common::SpatialAggregate<
      Variable::Economy::OperatingCost,
      Common::SpatialAggregate<
        Variable::Economy::Price,
        // CO2
        Common::SpatialAggregate<
          Variable::Economy::CO2,
          // Production by thermal cluster
          Common::SpatialAggregate<
            Variable::Economy::Balance,
            // Misc Gen.
            Common::SpatialAggregate<
              Variable::Economy::RowBalance,
              Common::SpatialAggregate<
                Variable::Economy::PSP,
                Common::SpatialAggregate<
                  Variable::Economy::MiscGenMinusRowPSP,
                  // Time series
                  Common::SpatialAggregate<
                    Variable::Economy::TimeSeriesValuesLoad,
                    Common::SpatialAggregate<
                      Variable::Economy::TimeSeriesValuesHydro,
                      Common::SpatialAggregate<
                        Variable::Economy::TimeSeriesValuesWind,
                        Common::SpatialAggregate<
                          Variable::Economy::TimeSeriesValuesSolar,
                          // Other
                          Common::SpatialAggregate<
                            Variable::Economy::DispatchableGeneration,
                            Common::SpatialAggregate<
                              Variable::Economy::RenewableGeneration,
                              Common::SpatialAggregate<
                                Variable::Economy::HydroStorage,
                                Common::SpatialAggregate<
                                  Variable::Economy::Pumping,
                                  Common::SpatialAggregate<
                                    Variable::Economy::ReservoirLevel,
                                    Common::SpatialAggregate<
                                      Variable::Economy::Inflows,
                                      Common::SpatialAggregate<
                                        Variable::Economy::Overflows,
                                        Common::SpatialAggregate<
                                          Variable::Economy::WaterValue,
                                          Common::SpatialAggregate<
                                            Variable::Economy::HydroCost,
                                            Common::SpatialAggregate<
                                              Variable::Economy::UnsupliedEnergy,
                                              Common::SpatialAggregate<
                                              Variable::Economy::DomesticUnsupliedEnergy,
                                              Common::SpatialAggregate<
                                                Variable::Adequacy::SpilledEnergy,
                                                // LOLD
                                                Common::SpatialAggregate<
                                                  Variable::Economy::LOLD,
                                                  Common::SpatialAggregate<
                                                    Variable::Economy::LOLP,

                                                    Common::SpatialAggregate<
                                                      Variable::Economy::AvailableDispatchGen,
                                                      Common::SpatialAggregate<
                                                        Variable::Economy::DispatchableGenMargin,
                                                        Common::SpatialAggregate<
                                                          Variable::Economy::
                                                            Marge>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    VariablesPerSetOfAreas;

typedef Variable::Join<
  // Variables for each area / links attached to the areas
  Variable::Areas<VariablesPerArea>,
  // Variables for each set of areas
  Variable::SetsOfAreas<VariablesPerSetOfAreas>>
  ItemList;

/*!
** \brief All variables for a simulation (economy)
*/
typedef Container::List<ItemList> AllVariables;

} // namespace Adequacy
} // namespace Variable
} // namespace Solver
} // namespace Antares

// post include
#include "links.h"

#endif // __SOLVER_VARIABLE_ADEQUACY_ALL_H__
