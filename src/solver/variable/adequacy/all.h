/*
** Copyright 2007-2024, RTE (https://www.rte-france.com)
** See AUTHORS.txt
** SPDX-License-Identifier: MPL-2.0
** This file is part of Antares-Simulator,
** Adequacy and Performance assesment for interconnected energy networks.
**
** Antares_Simulator is free software: you can redistribute it and/or modify
** it under the terms of the Mozilla Public Licence 2.0 as published by
** the Mozilla Foundation, either version 2 of the License, or
** (at your option) any later version.
**
** There are special exceptions to the terms and conditions of the
** license as they are applied to this software. View the full text of
** the exceptions in file COPYING.txt in the directory of this software
** distribution
**
** Antares_Simulator is distributed in the hope that it will be useful,
** but WITHOUT ANY WARRANTY; without even the implied warranty of
** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
** Mozilla Public Licence 2.0 for more details.
**
** You should have received a copy of the Mozilla Public Licence 2.0
** along with Antares_Simulator. If not, see <https://opensource.org/license/mpl-2-0/>.
*/
#ifndef __SOLVER_VARIABLE_ADEQUACY_ALL_H__
#define __SOLVER_VARIABLE_ADEQUACY_ALL_H__

#include "../variable.h"
#include "../area.h"
#include "../setofareas.h"
#include "../bindConstraints.h"

#include "../economy/thermalAirPollutantEmissions.h"
#include "../economy/price.h"
#include "../economy/balance.h"

#include "../commons/load.h"
#include "../commons/wind.h"
#include "../commons/hydro.h"
#include "../commons/rowBalance.h"
#include "../commons/psp.h"
#include "../commons/miscGenMinusRowPSP.h"
#include "../commons/solar.h"
#include "../commons/join.h"
#include "../commons/spatial-aggregate.h"

#include "../economy/dispatchableGeneration.h"
#include "../economy/renewableGeneration.h"
#include "../adequacy/overallCost.h"
#include "../economy/operatingCost.h"
#include "../economy/hydrostorage.h"
#include "../economy/pumping.h"
#include "../economy/reservoirlevel.h"
#include "../economy/inflow.h"
#include "../economy/overflow.h"
#include "../economy/waterValue.h"
#include "../economy/hydroCost.h"
#include "../economy/shortTermStorage.h"
#include "../economy/unsupliedEnergy.h"
#include "../adequacy/spilledEnergy.h"
#include "../economy/productionByDispatchablePlant.h"
#include "../economy/productionByRenewablePlant.h"

// Short term storage output variables by cluster
#include "../economy/STStorageInjectionByCluster.h"
#include "../economy/STStorageWithdrawalByCluster.h"
#include "../economy/STStorageLevelsByCluster.h"

#include "../economy/lold.h"
#include "../economy/lolp.h"
#include "../economy/max-mrg.h"

#include "../economy/avail-dispatchable-generation.h"
#include "../economy/dispatchable-generation-margin.h"

#include "../economy/links/flowLinear.h"
#include "../economy/links/flowLinearAbs.h"
#include "../economy/links/flowQuad.h"
#include "../economy/links/hurdleCosts.h"
#include "../economy/links/congestionFee.h"
#include "../economy/links/congestionFeeAbs.h"
#include "../economy/links/marginalCost.h"
#include "../economy/links/congestionProbability.h"

// Output variables associated to binding constraints
#include "../economy/bindingConstraints/bindingConstraintsMarginalCost.h"

// By thermal plant
#include "../economy/profitByPlant.h"

namespace Antares
{
namespace Solver
{
namespace Variable
{
namespace Adequacy
{
/*!
** \brief All variables for a single link (economy)
*/
typedef Variable::Economy::FlowLinear            // Flow linear
  <Variable::Economy::FlowLinearAbs              // Flow linear Abs
   <Variable::Economy::FlowQuad                  // Flow Quad
    <Variable::Economy::CongestionFee            // Congestion Fee
     <Variable::Economy::CongestionFeeAbs        // Congestion Fee (Abs)
      <Variable::Economy::MarginalCost           // Marginal Cost
       <Variable::Economy::CongestionProbability // Congestion Probability (+/-)
        <Variable::Economy::HurdleCosts          // Hurdle costs
         <>>>>>>>>
    VariablePerLink;
// forward declaration
class Links;

/*!
** \brief All variables for a single area (economy)
*/
typedef                                              // Prices
  Variable::Adequacy::OverallCost                    // Overall Cost (Op. Cost + Unsupplied Eng.)
  <Variable::Economy::OperatingCost                  // Operating Cost
   <Variable::Economy::Price                         // Marginal price
                                                     // pollutant
    <Variable::Economy::ThermalAirPollutantEmissions // Pollutant emissions (from all thermal
                                                     // dispatchable clusters) Production by thermal
                                                     // cluster
     <Variable::Economy::ProductionByDispatchablePlant  // Energy generated by thermal dispatchable
                                                        // clusters
      <Variable::Economy::ProductionByRenewablePlant    // Energy generated by renewable clusters
                                                        // (must-run)
       <Variable::Economy::Balance                      // Nodal Energy Balance
                                                        // Misc Gen.
        <Variable::Economy::RowBalance                  // Misc Gen. Row balance
         <Variable::Economy::PSP                        // PSP
          <Variable::Economy::MiscGenMinusRowPSP        // Misc Gen. - Row Balance - PSP
                                                        // Time series
           <Variable::Economy::TimeSeriesValuesLoad     // Load
            <Variable::Economy::TimeSeriesValuesHydro   // Hydro
             <Variable::Economy::TimeSeriesValuesWind   // Wind
              <Variable::Economy::TimeSeriesValuesSolar // Solar
                                                        // Other
               <Variable::Economy::DispatchableGeneration // All dispatchable generation
                <Variable::Economy::RenewableGeneration<
                  Variable::Economy::HydroStorage     // Hydro Storage Generation
                  <Variable::Economy::Pumping         // Pumping generation
                   <Variable::Economy::ReservoirLevel // Reservoir levels
                    <Variable::Economy::Inflows       // Hydraulic inflows
                     <Variable::Economy::Overflows    // Hydraulic overflows
                      <Variable::Economy::WaterValue  // Water values
                       <Variable::Economy::HydroCost  // Hydro costs
                        <Variable::Economy::ShortTermStorageByGroup<
                          Variable::Economy::STstorageInjectionByCluster<
                            Variable::Economy::STstorageWithdrawalByCluster<
                              Variable::Economy::STstorageLevelsByCluster<
                                Variable::Economy::UnsupliedEnergy // Unsuplied Energy
                                <Variable::Adequacy::SpilledEnergy // Spilled Energy
                                 <Variable::Economy::LOLD          // LOLD
                                  <Variable::Economy::LOLP         // LOLP
                                   <Variable::Economy::AvailableDispatchGen<
                                     Variable::Economy::DispatchableGenMargin<
                                       Variable::Economy::Marge // OP. MRG
                                       <Variable::Economy::ProfitByPlant
                                        // Links
                                        <Variable::Adequacy::Links // All links
                                         >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    VariablesPerArea;

/*!
** \brief All variables for a single set of areas (economy)
*/
typedef // Prices
  Common::SpatialAggregate<
    Variable::Adequacy::OverallCost,
    Common::SpatialAggregate<
      Variable::Economy::OperatingCost,
      Common::SpatialAggregate<
        Variable::Economy::Price,
        // pollutant
        Common::SpatialAggregate<
          Variable::Economy::ThermalAirPollutantEmissions,
          // Production by thermal cluster
          Common::SpatialAggregate<
            Variable::Economy::Balance,
            // Misc Gen.
            Common::SpatialAggregate<
              Variable::Economy::RowBalance,
              Common::SpatialAggregate<
                Variable::Economy::PSP,
                Common::SpatialAggregate<
                  Variable::Economy::MiscGenMinusRowPSP,
                  // Time series
                  Common::SpatialAggregate<
                    Variable::Economy::TimeSeriesValuesLoad,
                    Common::SpatialAggregate<
                      Variable::Economy::TimeSeriesValuesHydro,
                      Common::SpatialAggregate<
                        Variable::Economy::TimeSeriesValuesWind,
                        Common::SpatialAggregate<
                          Variable::Economy::TimeSeriesValuesSolar,
                          // Other
                          Common::SpatialAggregate<
                            Variable::Economy::DispatchableGeneration,
                            Common::SpatialAggregate<
                              Variable::Economy::RenewableGeneration,
                              Common::SpatialAggregate<
                                Variable::Economy::HydroStorage,
                                Common::SpatialAggregate<
                                  Variable::Economy::Pumping,
                                  Common::SpatialAggregate<
                                    Variable::Economy::ReservoirLevel,
                                    Common::SpatialAggregate<
                                      Variable::Economy::Inflows,
                                      Common::SpatialAggregate<
                                        Variable::Economy::Overflows,
                                        Common::SpatialAggregate<
                                          Variable::Economy::WaterValue,
                                          Common::SpatialAggregate<
                                            Variable::Economy::HydroCost,
                                            Common::SpatialAggregate<
                                              Variable::Economy::ShortTermStorageByGroup,
                                              Common::SpatialAggregate<
                                                Variable::Economy::UnsupliedEnergy,
                                                Common::SpatialAggregate<
                                                  Variable::Adequacy::SpilledEnergy,
                                                  // LOLD
                                                  Common::SpatialAggregate<
                                                    Variable::Economy::LOLD,
                                                    Common::SpatialAggregate<
                                                      Variable::Economy::LOLP,

                                                      Common::SpatialAggregate<
                                                        Variable::Economy::AvailableDispatchGen,
                                                        Common::SpatialAggregate<
                                                          Variable::Economy::DispatchableGenMargin,
                                                          Common::SpatialAggregate<
                                                            Variable::Economy::
                                                              Marge>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    VariablesPerSetOfAreas;

typedef Variable::Economy::BindingConstMarginCost< // Marginal cost for a binding constraint
  Container::EndOfList                             // End of variable list
  >

  VariablesPerBindingConstraints;

typedef Variable::Join<
  // Variables for each area / links attached to the areas
  Variable::Areas<VariablesPerArea>,
  // Variables for each set of areas
  Variable::SetsOfAreas<VariablesPerSetOfAreas>,
  // Variables for each binding constraint
  Variable::BindingConstraints<VariablesPerBindingConstraints>>
  ItemList;

/*!
** \brief All variables for a simulation (economy)
*/
typedef Container::List<ItemList> AllVariables;

} // namespace Adequacy
} // namespace Variable
} // namespace Solver
} // namespace Antares

// post include
#include "links.h"

#endif // __SOLVER_VARIABLE_ADEQUACY_ALL_H__
